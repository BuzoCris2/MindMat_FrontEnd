<app-background [isVisible]="isGameActive" [backgroundState]="backgroundState">
  <div class="game-content">
    <app-growing-tree [growthStage]="growthStage" class="growing-tree"></app-growing-tree>
  </div>
</app-background>

<app-timer
*ngIf="isGameActive"
[initialTime]="30"
(timeRemaining)="updateRemainingTime($event)"
(timerEnded)="endGame()"
class="timer-position">
</app-timer>

<app-math-operations 
*ngIf="isGameActive"
[mathVisible]="isGameActive"
(answerCorrect)="handleAnswerCorrect()" class="operations-position">
</app-math-operations>

<app-games-save-score
  *ngIf="showScoreModal"
  [selectedGameId]="4"
  [correctAnswers]="correctAnswers"
  [wrongAnswers]="wrongAnswers"
  [startTime]="gameStartTime"
  (continueClicked)="onContinue()"
  class="save-score-modal">
</app-games-save-score>


@defer {
    <div class="row p-4">
    </div>
    <div class="row p-4 displayExample">
        <div *ngIf="currentTextIndex === 0">
            <h1>Primera Pagina</h1>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Veritatis, repellat pariatur ut, illum voluptatum doloribus consequatur nihil suscipit soluta, quae et reiciendis vero dolorum! Natus fugit aut velit aliquam nisi!</p>
        </div>
        <div *ngIf="currentTextIndex === 1">
            <h2>Segunda Pagina</h2>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Veritatis, repellat pariatur ut, illum voluptatum doloribus consequatur nihil suscipit soluta, quae et reiciendis vero dolorum! Natus fugit aut velit aliquam nisi!</p>
        </div>
        <div *ngIf="currentTextIndex === 2">
            <h3>Tercera</h3>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Veritatis, repellat pariatur ut, illum voluptatum doloribus consequatur nihil suscipit soluta, quae et reiciendis vero dolorum! Natus fugit aut velit aliquam nisi!</p>
        </div>
        <div *ngIf="currentTextIndex === 3">
            <h3>Tercera</h3>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Veritatis, repellat pariatur ut, illum voluptatum doloribus consequatur nihil suscipit soluta, quae et reiciendis vero dolorum! Natus fugit aut velit aliquam nisi!</p>
        </div>
        <div *ngIf="currentTextIndex === 3">
            <h3>Tercera</h3>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Veritatis, repellat pariatur ut, illum voluptatum doloribus consequatur nihil suscipit soluta, quae et reiciendis vero dolorum! Natus fugit aut velit aliquam nisi!</p>
        </div>
        <app-games-knoledge-base 
        [numberOfPages]="4"
        (textIndexChange)="updateTextIndex($event)"
        (gameStart)="startGame()">
      </app-games-knoledge-base>
</div>
}